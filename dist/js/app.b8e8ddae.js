(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],m=0,d=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},n={app:0},r=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0511":function(t,e,i){},"07b9":function(t,e,i){},"0b34":function(t,e,i){"use strict";i("345e")},"0bcd":function(t,e,i){t.exports=i.p+"img/Zootopia.58cddb94.jpg"},"13e6":function(t,e,i){"use strict";i("9a0c")},"14dd":function(t,e,i){t.exports=i.p+"img/interception.7553150f.jpeg"},"190e":function(t,e,i){t.exports=i.p+"img/bladerunner.b8de994c.jpg"},"1e2b":function(t,e,i){t.exports=i.p+"img/Attack.98f9b51c.jpg"},2857:function(t,e,i){},"345e":function(t,e,i){},"348f":function(t,e,i){},"416f":function(t,e,i){"use strict";i("f0ea")},"4cdf":function(t,e,i){t.exports=i.p+"img/matrix.79300eb5.jpg"},"54ef":function(t,e,i){t.exports=i.p+"img/man_in_black.2644463f.jpg"},"56d7":function(t,e,i){"use strict";i.r(e);i("d3b7"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],s={name:"App",components:{}},o=s,c=(i("034f"),i("2877")),l=Object(c["a"])(o,n,r,!1,null,null,null),u=l.exports,m=(i("caad"),i("8c4f")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",[i("page-header",{attrs:{title:"RottenApples"},on:{"title-filter":t.newItems}})],1),i("hr"),i("div",{staticClass:"body"},[i("div",{staticClass:"filt"},[i("div",{staticClass:"fil2"},[i("s-filter",{attrs:{films:"Категорії :"},on:{"year-filter":t.setYears,"film-button":t.clickFilm,"serial-button":t.clickSerial,"game-button":t.clickGame,"mult-button":t.multClick}})],1),i("div",{staticClass:"registr"},[i("registr")],1)]),i("div",{staticClass:"products"},[0===t.filmChek&&0===t.multChek&&0===t.gameChek&&0===t.serialChek?i("item-list",{attrs:{itList:t.filteredItems}}):t._e(),1===t.multChek?i("item-list",{attrs:{itList:t.filterMult}}):t._e(),1===t.gameChek?i("item-list",{attrs:{itList:t.filterGame}}):t._e(),1===t.filmChek?i("item-list",{attrs:{itList:t.filterFilms}}):t._e(),1===t.serialChek?i("item-list",{attrs:{itList:t.filterSerial}}):t._e()],1)])])},f=[],p=(i("4de4"),i("2532"),i("96cf"),i("1da1")),g=i("5530"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v(t._s(t.title))]),i("div",{staticClass:"header-btns"},[i("div",{staticClass:"btns"},[t.givePagename?i("button",{staticClass:"button is-black",on:{click:t.goToCreator}},[t._v(" Add new film ")]):t._e()]),i("div",{staticClass:"btns"},["list"==t.givePagename||"item_p"==t.givePagename||"creator"==t.givePagename?i("button",{staticClass:"button is-black"},[i("router-link",{attrs:{to:"/"}},[t._v("Main page")])],1):t._e()]),i("div",{staticClass:"btns"},[t.givePagename?i("button",{staticClass:"button is-black"},[i("router-link",{attrs:{to:"/items_cart"}},[t._v("WatchList ")]),0!=t.getCartLength?i("span",{staticStyle:{"margin-left":"14px"}},[t._v(" "+t._s(t.getCartLength))]):t._e()],1):t._e()]),"main"==t.givePagename||"main1"==t.givePagename?i("div",{staticClass:"btns"},[i("b-input",{attrs:{placeholder:"Enter title"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1):t._e()])])},b=[],v=(i("b0c0"),i("2f62")),_={name:"PageHeader",props:{title:{type:String,default:"setTitle"}},computed:Object(g["a"])(Object(g["a"])({},Object(v["c"])(["getCartLength"])),{},{givePagename:function(){return this.$route.name}}),data:function(){return{cartLength:this.getCartLength,searchText:null}},methods:{goToCreator:function(){this.$router.push({name:"creator",params:{item_id:"new"}})}},watch:{searchText:function(t){this.$emit("title-filter",t)}}},C=_,y=(i("df0b"),Object(c["a"])(C,h,b,!1,null,"1f31ebe1",null)),I=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[a("div",[a("h2",{staticClass:"title is-4"},[t._v(t._s(t.films))])]),a("div",[a("div",[a("input",{staticClass:"checkboxes",attrs:{type:"checkbox"},on:{click:function(e){return t.$emit("film-button")}}}),t._v("Фільми ")]),a("div",[a("input",{staticClass:"checkboxes",attrs:{type:"checkbox"},on:{click:function(e){return t.$emit("serial-button")}}}),t._v("Серіали ")]),a("div",[a("input",{staticClass:"checkboxes",attrs:{type:"checkbox"},on:{click:function(e){return t.$emit("game-button")}}}),t._v("Відеоігри ")]),a("div",[a("input",{staticClass:"checkboxes",attrs:{type:"checkbox"},on:{click:function(e){return t.$emit("mult-button")}}}),t._v("Анімаційні фільми ")])]),a("div",[a("b-tooltip",{attrs:{label:"Get random film",position:"is-right"}},[a("img",{staticClass:"dice",attrs:{src:i("cd3d"),alt:"dice"},on:{click:t.getRandomItem}})])],1),a("div",[t._v(" Рік випуску : "),a("b-field",[a("b-slider",{attrs:{type:"is-danger",min:1994,max:2020,step:1},model:{value:t.numbers,callback:function(e){t.numbers=e},expression:"numbers"}})],1)],1)])},k=[],j={name:"SFilter",computed:Object(g["a"])({},Object(v["c"])("films",["getItems"])),props:{films:{type:String,default:"setTitle"}},data:function(){return{numbers:[1994,2020]}},watch:{numbers:function(t){this.$emit("year-filter",t)}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["yearFilter"])),{},{getRandomItem:function(){var t=Math.floor(1+22*Math.random()),e=this.getItems,i=e[t],a=i._id;this.$router.push({name:"item_p",params:{item_id:a}})}})},O=j,w=(i("56f6"),Object(c["a"])(O,x,k,!1,null,"4f3a8bf2",null)),T=w.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter"},[i("h1",{staticClass:"title is-4"},[t._v("Registration page")]),t.isAuthenticated()?i("div",[i("button",{staticClass:"button is-dark",on:{click:t.onLogout}},[t._v("LogOut")])]):t._e(),i("div",[i("sign-up")],1),i("div",[i("login")],1),t._v(" "+t._s(t.isAuthenticated())+" "),i("div",[t.userNick?i("div",{staticClass:"div-block"},[t._v("User: "+t._s(t.userNick))]):t._e()])])},A=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Login")]),i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",[t._v(" email : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),i("div",{staticClass:"form-group"},[t._v(" password : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.message?i("div",{staticClass:"form-group error"},[t._v(t._s(t.message))]):t._e(),t._m(0)])])},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group"},[i("button",{staticClass:"button is-dark"},[t._v("Login")])])}],E={name:"Login",data:function(){return{email:"",password:"",message:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("auth",["login","logout"])),{},{submit:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={email:t.email,password:t.password},e.next=4,t.login(i);case 4:a=e.sent,t.message=!0===a?"":"Login error!",e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.message=e.t0.response.data.error;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}})},P=E,$=(i("75d7"),Object(c["a"])(P,L,S,!1,null,null,null)),F=$.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"registr"},[i("h1",[t._v("Sign up")]),i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",[t._v(" Nick : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],attrs:{type:"text",name:"nick",placeholder:"Nick"},domProps:{value:t.nick},on:{input:function(e){e.target.composing||(t.nick=e.target.value)}}})]),i("div",[t._v(" email : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),i("div",{staticClass:"form-group"},[t._v(" Password : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.message?i("div",[t._v(t._s(t.message))]):t._e(),t._m(0)])])},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"button is-dark",attrs:{type:"submit"}},[t._v("Sign up")])])}],N={name:"SignUp",data:function(){return{nick:"",email:"",password:"",message:""}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("auth",["signup"])),{},{submit:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={nick:t.nick,email:t.email,password:t.password},e.next=4,t.signup(i);case 4:a=e.sent,!0===a?(t.message="",console.log("Exelent !")):t.message=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.message=e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}})},B=N,Y=(i("a5b1"),Object(c["a"])(B,R,M,!1,null,null,null)),q=Y.exports,z={name:"Registr",components:{SignUp:q,Login:F},data:function(){return{dog:0}},computed:Object(g["a"])({},Object(v["c"])("auth",["userNick","isAuthenticated"])),methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("auth",["logout"])),{},{onLogout:function(){this.logout(),this.$router.push({path:"/login"})}})},G=z,H=(i("416f"),Object(c["a"])(G,D,A,!1,null,"2be76266",null)),J=H.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pList"},t._l(t.itList,(function(t){return i("item",{key:t._id,staticClass:"prod",attrs:{title:t.title,rating:t.rating,id:t._id,myImg:t.image}})})),1)},U=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[null!==t.staticSrc?a("div",{staticClass:"img"},[a("img",{staticClass:"myImg",attrs:{src:t.staticSrc,alt:"productIMG"}})]):a("div",{staticClass:"img"},[a("img",{staticClass:"myImg",attrs:{src:t.myImg,alt:"productIMG"}})]),a("div",{on:{click:t.goToItem}},[a("router-link",{attrs:{to:"/item/:item_id"}},[t._v(" "+t._s(t.title))])],1),a("div",[a("div",{staticClass:"rate"},[t._v(" Рейтинг: "+t._s(t.rating))]),t._v("/10 "),a("img",{staticClass:"star",attrs:{src:i("6c8d"),alt:""}})]),a("div",{staticClass:"btn"},[a("button",{staticClass:"button is-dark",on:{click:t.addItem}},[t._v("Add")])]),a("div",{staticClass:"btn"},[a("button",{staticClass:"button is-dark",on:{click:t.editItem}},[t._v("Edit")])])])},Z=[],K={name:"Item",computed:Object(g["a"])({},Object(v["c"])("images",["getImageByTitle"])),data:function(){return{staticSrc:null}},props:{title:{type:String,default:"setTitle"},rating:{type:String,default:"-0null0-"},id:{type:String},myImg:{type:String,default:"-0null0-"}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["addToCart"])),{},{addItem:function(){this.addToCart(this.id)},editItem:function(){this.$router.push({name:"editor",params:{item_id:this.id}})},goToItem:function(){this.$router.push({name:"item_p",params:{item_id:this.id}})}}),mounted:function(){var t=this.getImageByTitle(this.title);this.staticSrc=t.itemImg}},Q=K,X=(i("0b34"),Object(c["a"])(Q,V,Z,!1,null,"54aa0e94",null)),tt=X.exports,et={name:"ItemList",components:{Item:tt},props:{itList:{type:Array,default:null}}},it=et,at=(i("13e6"),Object(c["a"])(it,W,U,!1,null,"7e2ba0c2",null)),nt=at.exports,rt={name:"MainPage",components:{PageHeader:I,SFilter:T,ItemList:nt,Registr:J},data:function(){return{firstYear:"1994",lastYear:"2020",inpText:null,filmCategory:"film",serialCategory:"serial",gameCategory:"game",multCategory:"mult",filmChek:0,serialChek:0,gameChek:0,multChek:0}},computed:Object(g["a"])(Object(g["a"])({},Object(v["c"])("films",["getItems"])),{},{filteredItems:function(){var t=this;return null!=this.inpText?(console.log(this.getItems),this.getItems.filter((function(e){return!t.inpText||e.title.toLowerCase().includes(t.inpText.toLowerCase())}))):1994!=this.firstYear||2020!=this.lastYear?this.getItems.filter((function(e){return e.year>=t.firstYear&&e.year<=t.lastYear})):this.getItems},filterFilms:function(){var t=this;return 1===this.filmChek?this.getItems.filter((function(e){return!t.filmCategory||e.category==t.filmCategory})):this.getItems},filterMult:function(){var t=this;return 1===this.multChek?this.getItems.filter((function(e){return!t.multCategory||e.category==t.multCategory})):this.getItems},filterGame:function(){var t=this;return 1===this.gameChek?this.getItems.filter((function(e){return!t.gameCategory||e.category==t.gameCategory})):this.getItems},filterSerial:function(){var t=this;return 1===this.serialChek?this.getItems.filter((function(e){return!t.serialCategory||e.category==t.serialCategory})):this.getItems}}),methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("films",["loadData"])),{},{setYears:function(t){this.firstYear!=t[0]&&(this.firstYear=t[0]),this.lastYear!=t[1]&&(this.lastYear=t[1])},clickFilm:function(){0===this.filmChek?this.filmChek=1:this.filmChek=0},clickSerial:function(){0===this.serialChek?this.serialChek=1:this.serialChek=0},clickGame:function(){0===this.gameChek?this.gameChek=1:this.gameChek=0},multClick:function(){0===this.multChek?this.multChek=1:this.multChek=0},newItems:function(t){this.inpText=""==t?null:t}}),created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.loadData();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},st=rt,ot=(i("9914"),Object(c["a"])(st,d,f,!1,null,"a3a7c2a2",null)),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("div",[t._v("-------------LOADING--------------")]):t._e(),t.myItem?i("div",{staticClass:"main"},[i("div",[i("page-header",{attrs:{title:"RottenApples"}})],1),i("hr"),i("div",{staticClass:"body"},[i("div",{staticClass:"container"},[t.imgSrc?i("div",[i("img",{staticClass:"myImg",attrs:{src:t.imgSrc,alt:"productIMG"}})]):t._e(),i("div",[i("div",{staticClass:"title"},[t._v(t._s(t.myItem.title))]),i("div",{staticClass:"description"},[t._v("Описання :")]),i("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam at vestibulum dolor. Vestibulum porttitor ipsum et tempor blandit. Pellentesque eu ante sed justo sollicitudin suscipit vitae ut lorem. Sed suscipit aliquam fermentum. ")]),i("div",{staticClass:"description"},[t._v("Рейтинг:"+t._s(t.myItem.rating))])])])])]):t._e()])},ut=[],mt=(i("7db0"),{name:"itemPage",components:{PageHeader:I},data:function(){return{myItem:null,imgSrc:null}},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(v["c"])("films",["getItems","isLoading"])),Object(v["c"])("images",["getImageByTitle"])),{},{item_ID:function(){return this.$route.params.item_id}}),methods:Object(g["a"])({},Object(v["b"])("films",["loadData"])),created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.loadData();case 3:console.log("---Loading---11"),t.myItem=t.getItems.find((function(e){return e._id==t.item_ID})),i=t.getImageByTitle(t.myItem.title),t.imgSrc=i.itemImg,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}),dt=mt,ft=(i("d3bd"),Object(c["a"])(dt,lt,ut,!1,null,"215d9624",null)),pt=ft.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",[i("page-header",{attrs:{title:"RottenApples"}})],1),i("hr"),i("div",{staticClass:"body"},[i("div",[i("h1",{staticClass:"WATCHtitle"},[t._v("Watchlist")]),i("table",t._l(t.cartItems,(function(e){return i("tr",{key:e._id,staticClass:"tab"},[i("td",[i("img",{staticClass:"img",attrs:{src:t.getImg(e.title),alt:"itemImg"}})]),i("td",[t._v(t._s(e.title))]),i("td",[i("button",{on:{click:function(i){return t.deletItem(e._id)}}},[t._v("Delete")])])])})),0)])])])},ht=[],bt={name:"itemCart",components:{PageHeader:I},computed:Object(g["a"])(Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(v["c"])(["getItemFromCart"])),Object(v["c"])("films",["getItems"])),Object(v["c"])("images",["getImageByTitle"])),{},{cartItems:function(){var t=this;return this.getItems.filter((function(e){return t.getItemFromCart.includes(e._id)}))}}),methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["deleteFromCart"])),{},{getImg:function(t){var e=this.getImageByTitle(t);return e.itemImg},deletItem:function(t){console.log(t),this.deleteFromCart(t)}})},vt=bt,_t=(i("9c7c"),Object(c["a"])(vt,gt,ht,!1,null,"4044d888",null)),Ct=_t.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",[i("page-header",{attrs:{title:"RottenApples"}})],1),i("hr"),i("div",{staticClass:"body"},[i("div",[i("b-field",{attrs:{horizontal:"",label:"Title"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("b-field",{attrs:{horizontal:"",label:"Category"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),i("b-field",{attrs:{horizontal:"",label:"Rating"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),i("b-field",{attrs:{horizontal:"",label:"Year"}},[i("b-input",{attrs:{type:"number",required:"",expanded:""},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),i("b-field",{staticClass:"file is-primary",class:{"has-name":!!t.file}},[i("b-upload",{staticClass:"file-label",on:{input:t.loadImage},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[i("span",{staticClass:"file-cta"},[i("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),i("span",{staticClass:"file-label"},[t._v("Click to upload")])],1),t.file?i("span",{staticClass:"file-name"},[t._v(" "+t._s(t.file.name)+" ")]):t._e()])],1),t.itemImg?i("div",[i("img",{attrs:{src:t.itemImg,alt:""}})]):t._e()],1),i("div",{staticClass:"level"},[i("b-button",{staticClass:"level-left",attrs:{type:"is-danger"},on:{click:t.onCancel}},[t._v("Cancel")]),i("b-button",{staticClass:"level-right",attrs:{type:"is-success"},on:{click:t.onAdd}},[t._v("Add")])],1)])])},It=[],xt={name:"createItem",components:{PageHeader:I},data:function(){return{title:null,category:null,year:null,rating:null,itemImg:null,file:null}},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("films",["addFilm"])),{},{readFile:function(t){return new Promise((function(e){var i=new FileReader;i.onloadend=function(){e(i.result)},i.readAsDataURL(t)}))},loadImage:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.readFile(t);case 2:e.itemImg=i.sent;case 3:case"end":return i.stop()}}),i)})))()},onAdd:function(){this.addFilm({title:this.title,category:this.category,year:this.year,rating:this.rating,image:this.itemImg}),this.$router.push({path:"/"})},onCancel:function(){this.$router.push({path:"/"})}})},kt=xt,jt=(i("64df"),Object(c["a"])(kt,yt,It,!1,null,"b5e2cfec",null)),Ot=jt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",[i("page-header",{attrs:{title:"RottenApples"}})],1),i("hr"),i("div",{staticClass:"body"},[i("div",[i("b-field",{attrs:{horizontal:"",label:"Title"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("b-field",{attrs:{horizontal:"",label:"Category"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),i("b-field",{attrs:{horizontal:"",label:"Rating"}},[i("b-input",{attrs:{type:"text",required:"",expanded:""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),i("b-field",{attrs:{horizontal:"",label:"Year"}},[i("b-input",{attrs:{type:"number",required:"",expanded:""},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),i("div",{staticClass:"level"},[i("b-button",{staticClass:"level-left",attrs:{type:"is-warning"},on:{click:t.onCancel}},[t._v("Cancel")]),i("b-button",{staticClass:"level-right",attrs:{type:"is-success"},on:{click:t.onAdd}},[t._v("Add")])],1),i("b-button",{attrs:{type:"is-danger",expanded:""},on:{click:t.deleteItem}},[t._v("Delete forever !")])],1)])},Tt=[],Dt={name:"createItem",components:{PageHeader:I},data:function(){return{item_ID:this.$route.params.item_id,title:null,category:null,year:null,rating:null}},computed:Object(g["a"])({},Object(v["c"])("films",["getItemById"])),methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])("films",["editFilm","deleteFilm"])),{},{onAdd:function(){this.editFilm({id:this.item_ID,title:this.title,category:this.category,year:this.year,rating:this.rating}),this.$router.push({path:"/"})},onCancel:function(){this.$router.push({path:"/"})},deleteItem:function(){this.deleteFilm(this.$route.params.item_id),this.$router.push({path:"/"})}}),mounted:function(){if(this.item_ID){var t=this.getItemById(this.item_ID);this.title=t.title,this.category=t.category,this.year=t.year,this.rating=t.rating}}},At=Dt,Lt=(i("5fd3"),Object(c["a"])(At,wt,Tt,!1,null,"7c2f63c4",null)),St=Lt.exports,Et=(i("c975"),i("2909")),Pt=i("bc3a"),$t=i.n(Pt),Ft={films:{read:"".concat("http://localhost:3000","/films/list"),add:"".concat("http://localhost:3000","/films/add"),delete:"".concat("http://localhost:3000","/films/delete"),edit:"".concat("http://localhost:3000","/films/edit")},user:{signup:"".concat("http://localhost:3000","/users/signup"),login:"".concat("http://localhost:3000","/users/login")},cart:{read:"".concat("http://localhost:3000","/carts/list"),add:"".concat("http://localhost:3000","/carts/add")}},Rt={namespaced:!0,state:{items:[],loading:!1,error:null},mutations:{setItemList:function(t,e){t.items=Object(Et["a"])(e)},addFilmToList:function(t,e){t.items.push(e)},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e}},actions:{loadData:function(t){var e=t.commit;return e("setLoading",!0),e("setError",null),new Promise((function(t,i){$t.a.get(Ft.films.read).then((function(t){return t.data})).then((function(i){console.log("resData"),console.log(i),i.success&&e("setItemList",i.films),t(!0)})).catch((function(t){console.log(t),e("setError",t),i(!1)})).finally((function(){e("setLoading",!1)}))}))},addFilm:function(t,e){var i=t.commit;i("setLoading",!0),i("setError",null),$t.a.post(Ft.films.add,e).then((function(t){return t.data})).then((function(t){if(!t.success)throw new Error("Fatch failed!");i("addFilmToList",t.data)})).catch((function(t){i("setError",t)})).finally((function(){return i("setLoading",!1)}))},editFilm:function(t,e){var i=t.commit,a=t.dispatch;i("setLoading",!0),i("setError",null),$t.a.post(Ft.films.edit,e).then((function(t){return t.data})).then((function(t){if(!t.success)throw new Error("Fatch failed!");a("loadData")})).catch((function(t){i("setError",t)})).finally((function(){return i("setLoading",!1)}))},deleteFilm:function(t,e){var i=t.commit,a=t.dispatch;i("setLoading",!0),i("setError",null),console.log("id"),console.log(e),$t.a.delete(Ft.films.delete,{data:{id:e}}).then((function(t){return t.data})).then((function(t){if(!t.success)throw new Error("Fatch failed!");a("loadData")})).catch((function(t){i("setError",t)})).finally((function(){return i("setLoading",!1)}))}},getters:{getItems:function(t){return t.items},getItemById:function(t){return function(e){return t.items.find((function(t){return t._id==e}))}},isLoading:function(t){return t.loading},isError:function(t){return t.error}}},Mt={namespaced:!0,state:{authData:JSON.parse(localStorage.getItem("authData"))||null,expiresAt:localStorage.getItem("expiresAt")||null},mutations:{setAuthData:function(t,e){var i=e.authData,a=e.expiresAt;t.authData=Object(g["a"])({},i),t.expiresAt=a||1e3*t.authData.expires_in+(new Date).getTime(),localStorage.setItem("authData",JSON.stringify(t.authData)),localStorage.setItem("expiresAt",JSON.stringify(t.expiresAt))},clearAuthData:function(t){t.authData=null,t.expiresAt=null,localStorage.removeItem("authData"),localStorage.removeItem("expiresAt")}},actions:{setAuthData:function(t,e){var i=t.commit,a=e.authData,n=e.expiresAt;i("setAuthData",{authData:a,expiresAt:n})},signup:function(t,e){var i=t.commit,a=e.nick,n=e.email,r=e.password;return new Promise((function(t,e){$t.a.post(Ft.user.signup,{nick:a,email:n,password:r}).then((function(){t(!0)})).catch((function(t){i("clearAuthData"),e(t)}))}))},login:function(t,e){var i=t.commit,a=e.email,n=e.password;return console.log("login"),new Promise((function(t,e){$t.a.post(Ft.user.login,{email:a,password:n}).then((function(t){return t.data})).then((function(e){i("setAuthData",Object(g["a"])({},e.user)),t(!0)})).catch((function(t){i("clearAuthData"),e(t)}))}))},logout:function(t){var e=t.commit;e("clearAuthData")}},getters:{userNick:function(t){return t.authData?t.authData.nick:null},isAuthenticated:function(t){return function(){return t.authData&&(new Date).getTime()<t.expiresAt}},getAccessToken:function(t){return function(){return t.authData&&t.authData.access_token}},authorized:function(t){return t.authData&&(new Date).getTime()<t.expiresAt}}},Nt=(i("c740"),{namespaced:!0,state:{items:[{itemTitle:"Матриця",itemImg:i("4cdf")},{itemTitle:"Форест Гамп",itemImg:i("8c99")},{itemTitle:"Втеча з Шоушенка",itemImg:i("70ef")},{itemTitle:"DOOM Eternal",itemImg:i("be4c")},{itemTitle:"Інтерстелар",itemImg:i("6d7f")},{itemTitle:"Spider-Man: Into the Spider-Verse",itemImg:i("d3d1")},{itemTitle:"Справжній детектив",itemImg:i("d682")},{itemTitle:"Володар перснів: Повернення короля",itemImg:i("cd29")},{itemTitle:"Готель Гранд-Будапешт",itemImg:i("b4e8")},{itemTitle:"Люди в чорному",itemImg:i("54ef")},{itemTitle:"WALL-E",itemImg:i("bfe8")},{itemTitle:"Кримінальне Чтиво",itemImg:i("76a8")},{itemTitle:"Бетмен: Темний лицар",itemImg:i("c4fd")},{itemTitle:"Начало",itemImg:i("14dd")},{itemTitle:"Scrubs",itemImg:i("842b")},{itemTitle:"Friends",itemImg:i("f03e")},{itemTitle:"Mass Effect 3",itemImg:i("5bdb")},{itemTitle:"Deus Ex:Human Revolution",itemImg:i("64d7")},{itemTitle:"Edge of Tomorrow",itemImg:i("c3b4")},{itemTitle:"Атака титанів",itemImg:i("1e2b")},{itemTitle:"The Boys",itemImg:i("8103")},{itemTitle:"Blade Runner",itemImg:i("190e")},{itemTitle:"Zootopia",itemImg:i("0bcd")}]},mutations:{add_newItem:function(t,e){t.items.push(Object(g["a"])({},e))},updateItem:function(t,e){var i=t.items.findIndex((function(t){return t.itemID==e.itemID}));t.items[i]=e}},actions:{addNewItem:function(t,e){var i=t.commit;i("add_newItem",e)},updateItem:function(t,e){var i=t.commit;i("updateItem",e)}},getters:{getItems:function(t){return t.items},getImageByTitle:function(t){return function(e){return t.items.find((function(t){return t.itemTitle===e}))}}}});a["a"].use(v["a"]);var Bt=new v["a"].Store({state:{cart:[]},mutations:{addProductToCart:function(t,e){-1===t.cart.indexOf(e)&&t.cart.push(e)},delItemFromCart:function(t,e){t.cart=t.cart.filter((function(t){return t!==e}))}},actions:{addToCart:function(t,e){var i=t.commit;i("addProductToCart",e)},deleteFromCart:function(t,e){var i=t.commit;i("delItemFromCart",e)}},getters:{getItemFromCart:function(t){return t.cart},getCartLength:function(t){return t.cart.length}},modules:{films:Rt,auth:Mt,images:Nt}}),Yt=Bt;a["a"].use(m["a"]);var qt=[{path:"/",name:"main1",component:ct},{path:"/items_cart",name:"list",component:Ct},{path:"/main",name:"main",component:ct},{path:"/item/:item_id",name:"item_p",component:pt},{path:"/creator/:item_id",name:"creator",component:Ot},{path:"/editor/:item_id",name:"editor",component:St}],zt=new m["a"]({mode:"history",routes:qt});zt.beforeEach((function(t,e,i){var a=!Yt.getters["auth/isAuthenticated"]()&&!["/main","/"].includes(t.path);if(a)return alert("Зареєструйтесь !"),void i({path:"/main"});i()}));var Gt=zt,Ht=i("289d");i("5abe");a["a"].use(Ht["a"]),a["a"].config.productionTip=!1,$t.a.interceptors.request.use((function(t){var e=Yt.getters["auth/isAuthenticated"]();return t.headers["Authorization"]=e?"Bearer "+Yt.getters["auth/getAccessToken"]():null,t})),$t.a.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&Gt.push({path:"/"}),Promise.reject(t)})),new a["a"]({router:Gt,store:Yt,render:function(t){return t(u)}}).$mount("#app")},"56f6":function(t,e,i){"use strict";i("0511")},"5bdb":function(t,e,i){t.exports=i.p+"img/Mass_Effect_3.22019375.jpg"},"5fd3":function(t,e,i){"use strict";i("2857")},"64d7":function(t,e,i){t.exports=i.p+"img/deus-ex.10c58f26.jpg"},"64df":function(t,e,i){"use strict";i("74d4")},"6c8d":function(t,e,i){t.exports=i.p+"img/star.45dd5470.png"},"6d7f":function(t,e,i){t.exports=i.p+"img/Interstellar.d03f47a3.jpg"},"6f81":function(t,e,i){},"70ef":function(t,e,i){t.exports=i.p+"img/Escape.73174268.jpg"},"74d4":function(t,e,i){},"75d7":function(t,e,i){"use strict";i("8a0d")},"76a8":function(t,e,i){t.exports=i.p+"img/Palp.b0cac253.jpg"},8103:function(t,e,i){t.exports=i.p+"img/The-Boys.9d14905d.jpg"},"842b":function(t,e,i){t.exports=i.p+"img/Scrubs.40391957.jpg"},"85ec":function(t,e,i){},"8a0d":function(t,e,i){},"8c99":function(t,e,i){t.exports=i.p+"img/FG.480d9e82.jpg"},9914:function(t,e,i){"use strict";i("6f81")},"9a0c":function(t,e,i){},"9c7c":function(t,e,i){"use strict";i("348f")},a5b1:function(t,e,i){"use strict";i("07b9")},af28:function(t,e,i){},b4e8:function(t,e,i){t.exports=i.p+"img/hotel.6d0287e9.jpg"},be4c:function(t,e,i){t.exports=i.p+"img/Doom_Eternal.d8c4dca2.jpg"},bfe8:function(t,e,i){t.exports=i.p+"img/WALL-E.13f7eadf.jpg"},c3b4:function(t,e,i){t.exports=i.p+"img/tom-cruse.bfdf9c44.jpg"},c4fd:function(t,e,i){t.exports=i.p+"img/betmen.94dfda21.jpg"},cd29:function(t,e,i){t.exports=i.p+"img/return_of_the_king.6aa0ef86.jpg"},cd3d:function(t,e,i){t.exports=i.p+"img/dice.868f4006.png"},d3bd:function(t,e,i){"use strict";i("af28")},d3d1:function(t,e,i){t.exports=i.p+"img/spider-man-spider-verse.85d89d63.jpg"},d682:function(t,e,i){t.exports=i.p+"img/True_Detective.d1293141.jpg"},df0b:function(t,e,i){"use strict";i("ef2a")},ef2a:function(t,e,i){},f03e:function(t,e,i){t.exports=i.p+"img/Friends.137b31f9.jpg"},f0ea:function(t,e,i){}});
//# sourceMappingURL=app.b8e8ddae.js.map